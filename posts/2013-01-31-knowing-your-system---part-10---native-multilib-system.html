<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Keruspe's personal blog" />
        <title>Keruspe's blag - Knowing your system - Part 10 - Native multilib system</title>
        <link href="http://fonts.googleapis.com/css?family=Arvo" rel="stylesheet" type="text/css" />
        <link href="http://fonts.googleapis.com/css?family=ABeeZee" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
        <link rel="alternate" type="application/rss+xml" title="Keruspe's blag" href="../rss.xml" />
        <link rel="shortcut icon" href="../favicon.png" />
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-36525806-1']);
            _gaq.push(['_setDomainName', 'imagination-land.org']);
            _gaq.push(['_setAllowLinker', true]);
            _gaq.push(['_trackPageview']);

            (function() {
                /* Google Analytics */
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                /* Google Plus */
                /*var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var ss = document.getElementsByTagName('script')[0]; ss.parentNode.insertBefore(po, ss);*/
                /* Disqus */
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'http://keruspe.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
    </head>
    <body>
        <header>
            <hgroup>
                <h1><a href="../">Keruspe's blag</a></h1>
                <h6>-</h6>
                <h2>Various free software hacking stuff</h2>
            </hgroup>
        </header>
        <nav>
            <menu>
                <a href="../"><img src="../images/home.png" alt="home" /> Home</a>
                <a href="../posts.html"><img src="../images/list.png" alt="list" /> All posts</a>
                <!-- <a href="http://marc-antoine.perennou.com">About me</a> -->
                <a href="http://github.com/Keruspe"><img class="bigger" src="../images/octocat.png" alt="octocat" /> My projects</a>
                <a href="http://www.clever-cloud.com/en/"><img class="bigger" src="../images/clever-cloud.png" alt="clever-cloud" /> My company</a>
                <a href="../rss.xml"><img src="../images/rss.png" alt="rss" /> RSS</a>
            </menu>
        </nav>
        <section>
            <article>
                <header>
                    <h1>Knowing your system - Part 10 - Native multilib system</h1>
                    <p class="by">by <em>Marc-Antoine Perennou</em> on <strong>January 31, 2013</strong></p>
                    <p>Tagged as: <a href="../tags/sysadmin.html">sysadmin</a>, <a href="../tags/knowingyoursystem.html">knowingyoursystem</a>, <a href="../tags/systemd.html">systemd</a>, <a href="../tags/source-based.html">source-based</a>, <a href="../tags/exherbo.html">exherbo</a>.</p>
                </header>

                <section>
<h2 id="why-no-post-last-week">Why no post last week?</h2>
<p>Last week, we were quite busy at <a href="http://www.clever-cloud.com/en/">Clever Cloud</a>, since we were releasing <a href="http://blog.clever-cloud.com/Press/2013/01/30/open-cloud-month.html">an awesome offer</a> and it took us quite some time since we migrated amongst other things from <a href="http://www.openstack.org/">openstack</a> to a custom home made solution which better fits our needs.</p>
<h2 id="the-future-of-knowing-your-system">The future of “Knowing your system”</h2>
<p>Two weeks ago, with <a href="../posts/2013-01-17-knowing-your-system---part-9---contributing-to-exherbo:-updated-and-smoother-method.html">Part 9</a>, I actually finished my initial Roadmap for this saga of posts, so I won’t continue to make 1 post per week. I’ll keep posting them on Thursdays, as I find out interesting stuff about system internals.</p>
<p>I recommend you reading <a href="http://0pointer.de/blog/projects/the-biggest-myths">last Lennart’s post</a> which explains a lot of things about the common myths regarding systemd.</p>
<h2 id="what-is-multilib">What is multilib?</h2>
<p>On classical systems running on machines with Intel or AMD processors (the vast majority of systems), you have the choice between installing a 32-bits (x86) or 64-bits (x86_64) system.</p>
<p>Most systems used to be 32-bits, but these last years, 64-bits systems mostly became the standard. Point is that you cannot run 32-bits binaries from a 64-bits system (the opposite is also true). Since some clients may need it, we switched all our applicative systems to multilib, at Clever Cloud.</p>
<p>Solution: On your 64-bits system, you can install 32-bits libraries in parallel of 64-bits one (the former will be in <code>/usr/lib32</code>, the latter in <code>/usr/lib64</code>, usually). Doing so allows you to run both 64 and 32-bits binaries on your system as long as you have the dependencies installed both for 64 and 32-bits. A good example is skype, which do not release a proper 64-bits version, so you need to run the 32-bits one, no matter your system.</p>
<h2 id="multilib-system-the-right-way">Multilib system: the right way</h2>
<p>Multilib is implemented in different ways depending on the distribution. Some of them like Debian or Gentoo provide huge packages with a while set of libraries in them, and only a subset or your system is available in 32-bits. For fedora, it’s kinda better, multilib packages are installed with <code>&lt;packages_name&gt;.i386</code> for the 32-bits version and <code>&lt;package_name&gt;.amd64</code> for the 64-bits version.</p>
<p>The only distribution I know of which allow you real native multilib installation is, you’ll have guessed it, <a href="http://www.exherbo.org/">Exherbo</a>. The tutorial to switch to a multilib system is quite simple: <a href="http://www.mailstation.de/wordpress/?p=118">http://www.mailstation.de/wordpress/?p=118</a>, and once this is done, the only thing you have to do is enabling the <code>multibuild_c: 32</code> option to all the packages that you want to be available in 32-bits too. That’s it, you can get your whole system in both 64 and 32-bits just like this, natively.</p>
<p>A good example of this is <a href="http://blog.clement.delafargue.name/posts/2013-01-08-dwarf-fortress-and-multilib-on-exherbo.html">Clement’s article</a> telling how he switched his system to multilib in order to be able to run dwarf fortress on Exherbo.</p>
                </section>
            </article>

            <section class="social">
                <!--<div class="g-plusone" data-align="right"></div>-->
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </section>

        </section>
        <footer>
            <p>
                This  work is licensed under a
                <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">
                    Creative Commons Attribution-ShareAlike 3.0 Unported License
                    <img id="cc-icon" alt="Creative Commons License" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png">
                </a>.
            </p>
        </footer>
    </body>
</html>
